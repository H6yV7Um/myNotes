<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>javascript中typeof、constructor、instanceof的区别</title>
	<script type="text/javascript" src="js/syntaxhighlighter_3.0.83/src/shCore.js"></script>
	<script type="text/javascript" src="js/syntaxhighlighter_3.0.83/scripts/shBrushCSharp.js"></script>
	<link type="text/css" rel="stylesheet" href="js/syntaxhighlighter_3.0.83/styles/shCoreEmacs.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
	<link rel="stylesheet"  type='text/css' href="css/base.css" />
	
	<style type="text/css">

	</style>
</head>
<body>
	<h1>javascript中typeof、constructor、instanceof的区别
	</h1>
<h3>javascript类型判断、对象类型判断、typeof、constructor、instanceof</h3>
<h3>1. 知识预备：</h3>
<p class="hhns">
javascript数据类型：原始类型、引用类型

先讲解一下，

javascript中，有5中原始类型，

5种原始类型分别为：undefined、null、boolean、number、string。

除了原始类型，还有引用类型。

什么是原始类型？

如：undefined、null、1、2、3、'hello'、"hi"，可以理解为：原始类型，就是简简单单一个数值。

什么是引用类型？（引用类型，也就是对象类型）

如：var o=newObject();
    vard=new Date; //js中new对象的时候，括号是可以省略的
   //以上的o、d，就是引用类型，不再是一个简单的数值。
</p>
<h3>3. typeof 运算符</h3>
<p class="hhns">
typeof 是一个一元运算，放在一个运算数之前，运算数可以是任意类型。
它返回值是一个字符串，该字符串说明运算数的类型。typeof 一般只能返回如下几个结果：
number,boolean,string,function,object,undefined。我们可以使用 typeof 来获取一个变量是否存在，
如 if(typeof a!="undefined"){alert("ok")}，
而不要去使用 if(a) 因为如果 a 不存在（未声明）则会出错，对于 Array,Null 等特殊对象使用 typeof 一律返回 object，这正是 typeof 的局限性。

注：typeof null //得到"object"，typeof运算符对于null值会返回"object"。这实际上是JavaScript最初实现中的一个错误，然后被ECMAScript沿用了。
</p>
<h3>4. instanceof运算符</h3>
<p class="hhns">
在引用类型值判断类型的时候，typeof运算符会出现一个问题，无论引用的是什么类型的对象，它都返回"object"。

ECMAScript引入了另一个Java运算符instanceof来解决这个问题。

示例：

function Person(){} 
function User(){} 
var u=new User;
console.log( u instanceof Person ); //false
console.log( u instanceof User ); //true

例子解析：
“变量u是否为Person对象的实例？得到false
“变量u是否为User对象的实例？得到true。

因为typeof在判断对象类型的值的时候，有很大的局限性，
所以instanceof会是一个不错的选择，instanceof才能判断一个值具体是由什么构造函数构造出来的。

注意:
谈到 instanceof 我们要多插入一个问题，就是 function 的 arguments，我们大家也许都认为 arguments 是一个 Array，但如果使用 instaceof 去测试会发现 arguments 不是一个 Array 对象，尽管看起来很像。
</p>
<p class="red">
这里的 instanceof 测试的 object 是指 js 语法中的 object，不是指 dom 模型对象。
如: if (window instanceof Object) alert('Y');else alert('N');
得'N'
但是 alert(typeof(window)) 会得 object
</p>
<h3>5.Object.constructor属性</h3>
<p class="hhns">
javascript中的所有对象都继承自Object。

constructor是Object的一个属性，他指向：创建对象的函数的引用（指针）。（可以理解为constructor指向对象的构造函数）

简单示例：

function User(){} 
var u=new User;
console.log(u.constructor===User );//得到true，也就是说对象的constructor属性指向他的构造函数。
console.log(u.constructor.name );//得到User，也就是构造函数的名称
注：constructor属性并非一定指向构造函数，他也是可以修改、变更的。
</p>
<h3>6. 小结</h3>
<p class="hhns">
<b>typeof</b>，是一个运算符，运算中需要一个操作数，

运算的结果就是这个操作数的类型，运算的结果是一个字符串。

他有一定的局限性，对于对象类型的值，只能得到一个”object”结果，却不能精确得到此值的精确类型。

示例：typeof 'hello' //得到"string"

<b>instanceof</b> 也是一个运算符，运算中需要两个操作数，

运算的结果是true或false，表示此值是不是某一个类的示例，能得到一个值的具体类型。

示例：function User(){}  
var u=newUser;  
console.log( u instanceof User );//true

constructor是对象的一个属性，不是运算符，constructor属性指向对象的构造函数。

示例：function User(){}  var u=newUser;  console.log( u.constructor===User);//得到true
</p>




<!-- 代码自动高亮模板 -->
<div class="daima">
	<script type="syntaxhighlighter" class="brush: csharp;">

	
	</script>
</div>


<script type="text/javascript">
	
</script>
</body>
</html>