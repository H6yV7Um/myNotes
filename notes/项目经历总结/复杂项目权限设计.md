# 复杂项目权限设计

目的: 对当前所做的项目的权限做一个梳理. 

[权限流程图](https://www.draw.io/?lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=Untitled%20Diagram.xml#R5Vxbk5s2FP41eowHEBLoEWxv%2BtC0me50mn1kbdZmgs0W2Ft%2BfSUhMEKCZb0GYzeTSbAkJPjO%2BXQuOjaA893r1zR43H5L1mEMLGP9CuACWJZDDPova3grGpBlFg2bNFoXTbWG2%2BhXKBrFfZunaB1m0sA8SeI8epQbV8l%2BH65yqS1I0%2BRFHvaQxPKqj8EmVBpuV0Gstv4TrfOtaDUN49DxWxhttmJpF4mO%2B2D1c5MmT3uxHrDgA%2F9TdO%2BCci4xPtsG6%2BSl1gSXAM7TJMmLq93rPIwZtCVsxX03Lb3Vc6fhPu9zg13c8BzET%2BLVwdIBPgS%2Bzy98QG7AEgOyAC4ESwII%2FVs%2Be%2F5W4sXfOGRzGgD6L9soD28fgxXrfaEKQtu2%2BS6mn0x6%2BRDF8TyJk5Tfy%2FCxVivanuVp8jOs9azxPUaY9qhvJV70OUzz8LXWJN7ya5jswjx9o0NEr%2B2IpxYaaWFUfH6R5Fu0bWuitUVbIFRqU019gJVeCGRbxGIpMN8tbxUUw%2F3aY8pLP63iIMuilQxc%2BBrlPxjGMyQ%2B3ZU9e%2FpEtS728U5IoxW8LHlKV6GkB3mQbsJylGgL1xJXVIRrCCINgGVbGsZBHj3LDNOhKlb4nkT0gVsFCJ2GYIrXEXfVVb4xEbKQPJHVmKgAQZmIC7l67X5y19DLwjEFxl9Hz5Lw8b9PjPM%2BVef8SxBHmz2AHtvhqNTC9NBPrzb8f8pOzxHsdF3gOzqaFmvRx%2BTLiTsvn7yV7EchL9LskQR4JvARh3oBPOsq90jbHRNmRwOzDXwXEA8sEXA9BjmzSR7wr9MmITIm3q4GbwoqBO6CA78AZH4dMGMiwewYY8JM9DC7wLthak0R9TBTa4ou87k4zC6%2BRJgb2myiEWEubXjDkW2AWm3bl4dupbRd6BpDoWuq6E7IeS05Vvdep%2BW8Iohm0LZdy0EutgxHEqXlGjNoGlU%2FlGfv7dd2rQHtzjVO5%2FKWmvFOqMPcXFk%2F0jCLfgX3fACT%2FCN7GP54yAdoQVuEV7wQLjH0GXsiGrR7omMXrdfsfj8O7sPYr0JxmawsGNcpVisnqzSDeDpQD9V1XP1izAyEsMzXz%2BlROSR5eMjCT8sIKjL6488PE7qVmlPhnNvYMY8NGJWttznRCdmjy8dQb4HGeobGF1PDkMs3bNrEzGCGTY3tjmDCwYBJ5qsydD9qJvDQ08u0afIyUzNtpMEO91iame9M1EIzKprgrTZMGI5PEhFriEh9SAO4hGdcfOARXQ5GZWQt33NI3RAaYJk6RmMW8foF629YNMZC3xseLFTLI7YY3ROWLlvMc68mz9PcC7R5nsH2AjVSO2YvaOV71y7Ray8wdZsBntZm4JBZ6YBil2DZB4I2mRGMkOlYtgkdcqSjq2gJPuNGAdXAcwKpfSmPj3qqyMF7NSExFeINqTZWR%2BhiG2RGdaUKXo5Vm%2B5FHHREfDSQfw7VcHsCOjVp%2FbHbRYvMhv4cqz5da7idO9vI6qOG4Oc3ZBdhoJBxkkwMJvIi6COLjGq81ESAFG76EBDE3cwlP3MhvGvJW6hPimruLvd%2BmZda%2BrY6v5cPopOyC%2Bocz%2Fn9dL16ZvZKXVntWdpQrixU0whHGZAOM9FuXFrBk3xZR%2BOouNM3NLYsVdyU1gesiTwR6efDDmUydGfcCPhz4BfxJj927cpEYRalsgs6wGaDL5%2By2uPYwSirHn%2Bf32i%2Fx1jYN7SYgnHHaATj%2Fs4ioxp33QH%2F%2F53T2rP%2FwTg9xYzSZLjqdnDVsU7EVbeDq%2B8sMiZXbTXi%2Fz3ZRPsLZByNtyWURy20tdXQdwKZE%2BlAR5Ohs%2BGkqNmU4NGVttBo5H%2BHq7S1NZHsiSpt%2F%2F7%2BjZ%2B9IF4Y5%2FDIdXk1cWqrsEehqxqntqB98biOWktrq%2BHcteI6as2srZ4KXw%2BuPRzlwXBVg98sS4A1ZyhmSfZ8kYDKijpqOaytif2m5ARpcgn2tOITaOLBKzY71xitYtNWo9QLqdistPzqKzZLpZ5WXCPRt29V2vmS9zQc6V9l4B5J6c41plRkUJqnaanUpNWno36kWWRwtPp0rTGlIgN0okzLcEeMZRAk7VJ9y%2BXOqGaW7DcefcRIdUme6LxHjEh3xIiBu%2BR1BEWRK1T0J3uJdnGwD2Wtyeij5%2BJXI%2BCp%2FHVLDoBMXQDkaOReRUqfcdhRy7cx249mGl%2FUPB9wuPm9Px1wOsJ0AieW%2B4s5cfsNfauDXmsyVKTP9EFMndB9kIc%2BczE%2Fm7JHugpxVVC8VtuzeRcG3oKX1dBG%2FlVmz2WF5OcTnY2G0Pl20Vl9T99OKzv68fCLKsXww6%2FWwOV%2F)

系统权限包括6个层级

- 总登陆权限: 如是否登陆美团账户, 判断当前系统的cookie, 如未登陆, 调取sso接口获取当前用户的登陆信息, 若获取失败, 重定向到sso的登录页面
- 当前系统权限: 已登陆当前系统, 可以获取到合法cookie, 判断是否有当前系统权限, 若无权限跳转到无权限页面
- 当前租户权限: 判断是否有当前页面的租户权限, 若无, 则跳转到选择租户页面. 选择后跳到所选租户的首页.
- 当前页面的权限: 若无跳转到无权限首页, 提示无访问权限. 
- 业务线的权限: 进入页面根据所选业务线或默认业务线展示相应视图. 若无权限, 弹出无权限提示. 
- 操作权限: 每个操作做权限判断, 若无权限则弹出提示. 

